{"version":3,"file":"commonHelpers.js","sources":["../src/img/alert.svg","../src/js/gallery.js"],"sourcesContent":["export default \"__VITE_ASSET__0a4fe6ce__\"","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport alertImg from \"/img/alert.svg\";\n\nconst url = \"https://pixabay.com/api/\";\nconst searchParams = {\n    key: \"40878457-91c7c8077e8a58c5727309d44\",\n    q: \"\",\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 18,\n};\n\nconst form = document.querySelector('.form');\nconst searchTerm = document.querySelector('.searchTerm');\nconst searchPhotosBtn = document.querySelector(\".search-btn\");\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector(\".gallery\");\n\nconst simpleGallery = new SimpleLightbox('.gallery a', {\n    overlayOpacity: 0.8,\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    if (searchTerm.value.trim().length < 3) {\n        showAlert(\"Please, enter search term!\");\n        return;\n    }\n    fetchPhotos()\n    .then((photos) => renderPhotos(photos))\n    .catch((error) => showAlert(error.toString()));\n});\n\nfunction fetchPhotos() {\n    gallery.innerHTML = '';\n    showLoader(true);\n    searchParams.q = searchTerm.value.trim();\n    const searchParamsString = new URLSearchParams(searchParams);\n    return fetch(`${url}?${searchParamsString}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n}\n\nfunction renderPhotos(photos) {\n    if (photos.total === 0) {\n        showAlert('Sorry, there are no images matching your search query. Please try again!');\n        showLoader(false);\n        return;\n    }\n    const markup = photos.hits\n        .map((photo) => {\n            return `<a class=\"gallery-link\" href=\"${photo.largeImageURL}\"><span class=\"gallery-item\"><img class=\"gallery-image\" src=\"${photo.webformatURL}\" alt=\"${photo.tags}\" title=\"${photo.tags}\" /></span>\n            <span class=\"img-stat\">\n            <span class=\"img-stat-item\"><span class=\"img-stat-title\">Likes</span><span class=\"img-stat-val\">${photo.likes}</span></span>\n            <span class=\"img-stat-item\"><span class=\"img-stat-title\">Views</span><span class=\"img-stat-val\">${photo.views}</span></span>\n            <span class=\"img-stat-item\"><span class=\"img-stat-title\">Comments</span><span class=\"img-stat-val\">${photo.comments}</span></span>\n            <span class=\"img-stat-item\"><span class=\"img-stat-title\">Downloads</span><span class=\"img-stat-val\">${photo.downloads}</span></span>\n            </span>\n            </a>`;\n        })\n        .join(\"\");\n    showLoader(false);\n    gallery.insertAdjacentHTML(\"beforeend\", markup);\n    simpleGallery.refresh();\n}\n\nfunction showLoader(state = true) {\n    loader.style.display = !state ? 'none' : 'inline-block';\n    searchPhotosBtn.disabled = state;\n}\n\nfunction showAlert(msg) {\n    iziToast.show({\n        position: 'topCenter',\n        iconUrl: alertImg,\n        messageColor: '#FAFAFB',\n        messageSize: '16px',\n        backgroundColor: '#EF4040',\n        close: false,\n        closeOnClick: true,\n        message: msg\n    });\n}\n"],"names":["alertImg","url","searchParams","form","searchTerm","searchPhotosBtn","loader","gallery","simpleGallery","SimpleLightbox","event","showAlert","fetchPhotos","photos","renderPhotos","error","showLoader","searchParamsString","response","markup","photo","state","msg","iziToast"],"mappings":"6vBAAA,MAAeA,EAAA,2CCMTC,EAAM,2BACNC,EAAe,CACjB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,EAEMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAkB,SAAS,cAAc,aAAa,EACtDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAgB,IAAIC,EAAe,aAAc,CACnD,eAAgB,GAChB,aAAc,MACd,aAAc,GAClB,CAAC,EAEDN,EAAK,iBAAiB,SAAWO,GAAU,CAEvC,GADAA,EAAM,eAAc,EAChBN,EAAW,MAAM,KAAI,EAAG,OAAS,EAAG,CACpCO,EAAU,4BAA4B,EACtC,MACH,CACDC,EAAa,EACZ,KAAMC,GAAWC,EAAaD,CAAM,CAAC,EACrC,MAAOE,GAAUJ,EAAUI,EAAM,SAAU,CAAA,CAAC,CACjD,CAAC,EAED,SAASH,GAAc,CACnBL,EAAQ,UAAY,GACpBS,EAAW,EAAI,EACfd,EAAa,EAAIE,EAAW,MAAM,KAAI,EACtC,MAAMa,EAAqB,IAAI,gBAAgBf,CAAY,EAC3D,OAAO,MAAM,GAAGD,KAAOgB,GAAoB,EACtC,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CAEA,SAASJ,EAAaD,EAAQ,CAC1B,GAAIA,EAAO,QAAU,EAAG,CACpBF,EAAU,0EAA0E,EACpFK,EAAW,EAAK,EAChB,MACH,CACD,MAAMG,EAASN,EAAO,KACjB,IAAKO,GACK,iCAAiCA,EAAM,6EAA6EA,EAAM,sBAAsBA,EAAM,gBAAgBA,EAAM;AAAA;AAAA,8GAEjFA,EAAM;AAAA,8GACNA,EAAM;AAAA,iHACHA,EAAM;AAAA,kHACLA,EAAM;AAAA;AAAA,iBAG/G,EACA,KAAK,EAAE,EACZJ,EAAW,EAAK,EAChBT,EAAQ,mBAAmB,YAAaY,CAAM,EAC9CX,EAAc,QAAO,CACzB,CAEA,SAASQ,EAAWK,EAAQ,GAAM,CAC9Bf,EAAO,MAAM,QAAWe,EAAiB,eAAT,OAChChB,EAAgB,SAAWgB,CAC/B,CAEA,SAASV,EAAUW,EAAK,CACpBC,EAAS,KAAK,CACV,SAAU,YACV,QAASvB,EACT,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,MAAO,GACP,aAAc,GACd,QAASsB,CACjB,CAAK,CACL"}